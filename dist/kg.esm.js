const t=new Map;function e(e="kg"){const r=(t.get(e)||0)+1;return t.set(e,r),r}const r=new Map([["en-US",{INIT:"Initialization",END:"End",REQUIRED:"Required",REQUIRES:"{{a}} requires {{b}}",RELATES:"{{a}} relates to {{b}} via {{c}}",START:"Start of {{a}}",STARTS:"{{a}} starts {{b}}"}]]);function n(t){return JSON.parse(JSON.stringify(t))}const i={name:"",children:[]};function s(t={},e=[]){const r=n(i);return r.name=`${t.id}: ${t.label}`,r.children=t.children.map((t=>s(e.filter((e=>e.id===t))[0],e))),r}const a=new Map([["sunburst",function(t="",e=[]){const r=e.filter((t=>0===t.parent.length));return Array.from(new Set(r.reduce(((t,e)=>[...t,...e.layer]),[]))).map((t=>{const a=n(i);return a.name=t,a.children=r.filter((e=>e.layer.includes(t))).map((t=>s(t,e))),a}))}]]);class h{constructor(t="",e=[{}],n="en-US",i="",s=""){return this.id=t,this.data=e,this.done=!1,this.lang=n,this.labels=r.get(n)||r.get("en-US")||{},this.prepared={},this.output="",this.ready=!0,this.title=i,this.type=s,this}process(){let t;try{this.prepared=a.get(this.type)(this.title,Array.isArray(this.data)?this.data:[this.data]),t=!0}catch(e){t=!1}return this.data=null,t}render(){return!1===this.done&&this.ready&&(this.output=JSON.stringify(this.prepared,null,2),this.prepared={},this.done=!0,this.ready=!1),this.output}}function d({data:t=[],id:r=`kg${e()}`,lang:n="en-US",title:i="",type:s=""}={}){return new h(r,t,n,i,s)}export{d as kg};