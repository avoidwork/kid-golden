!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).afm={})}(this,(function(t){"use strict";const e=new Map;function i(t="kg"){const i=(e.get(t)||0)+1;return e.set(t,i),i}const s=new Map([["en-US",{INIT:"Initialization",END:"End",REQUIRED:"Required",REQUIRES:"{{a}} requires {{b}}",RELATES:"{{a}} relates to {{b}} via {{c}}",START:"Start of {{a}}",STARTS:"{{a}} starts {{b}}"}]]);class n{constructor(t,e,i){return this.id=e,this.data=t,this.done=!1,this.lang=i,this.labels=s.get(i)||s.get("en-US")||{},this.prepared=[],this.output="",this.ready=!0,this}process(){let t;try{this.prepared=(Array.isArray(this.data)?this.data:[this.data]).map((t=>JSON.stringify(t))),this.data=null,t=!0}catch(e){t=!1}return t}render(){return!1===this.done&&this.ready&&(this.output=JSON.stringify(this.prepared),this.prepared.length=0,this.done=!0,this.ready=!1),this.output}}t.kg=function({data:t=[],id:e=`kg${i()}`,lang:s="en-US"}={}){return new n(t,e,s)},Object.defineProperty(t,"__esModule",{value:!0})}));