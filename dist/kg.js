!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).kg={})}(this,(function(t){"use strict";const e=new Map;function n(t="kg"){const n=(e.get(t)||0)+1;return e.set(t,n),n}function i(t){return JSON.parse(JSON.stringify(t))}const r={name:"",children:[]};function s(t={},e=[]){const n=i(r);return n.name=`${t.id}: ${t.label}`,n.children=t.children.map((t=>s(e.filter((e=>e.id===t))[0],e))),n}const o=new Map([["sunburst",function(t="",e=[]){const n=e.filter((t=>0===t.parent.length)),o=Array.from(new Set(n.reduce(((t,e)=>[...t,...e.layer]),[]))),a=i(r);return a.name=t,a.children=o.map((t=>{const o=i(r);return o.name=t,o.children=n.filter((e=>e.layer.includes(t))).map((t=>s(t,e))),o})),a}]]);class a{constructor(t="",e=[{}],n="",i=""){return this.id=t,this.data=e,this.done=!1,this.output=null,this.title=n,this.type=i,this}process(){let t;try{this.output=o.get(this.type)(this.title,Array.isArray(this.data)?this.data:[this.data]),this.done=!0,t=!0}catch(e){t=!1}return this.data=null,t}}t.kg=function({data:t=[],id:e=`kg${n()}`,title:i="",type:r=""}={}){return new a(e,t,i,r)},Object.defineProperty(t,"__esModule",{value:!0})}));