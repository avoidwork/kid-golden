!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).kg={})}(this,(function(t){"use strict";const e=new Map;function n(t="kg"){const n=(e.get(t)||0)+1;return e.set(t,n),n}const i=new Map([["en-US",{INIT:"Initialization",END:"End",REQUIRED:"Required",REQUIRES:"{{a}} requires {{b}}",RELATES:"{{a}} relates to {{b}} via {{c}}",START:"Start of {{a}}",STARTS:"{{a}} starts {{b}}"}]]);function r(t){return JSON.parse(JSON.stringify(t))}const s={name:"",children:[]};function a(t={},e=[]){const n=r(s);return n.name=`${t.id}: ${t.label}`,n.children=t.children.map((t=>a(e.filter((e=>e.id===t))[0],e))),n}const o=new Map([["sunburst",function(t="",e=[]){const n=e.filter((t=>0===t.parent.length));return Array.from(new Set(n.reduce(((t,e)=>[...t,...e.layer]),[]))).map((t=>{const i=r(s);return i.name=t,i.children=n.filter((e=>e.layer.includes(t))).map((t=>a(t,e))),i}))}]]);class d{constructor(t="",e=[{}],n="en-US",r="",s=""){return this.id=t,this.data=e,this.done=!1,this.lang=n,this.labels=i.get(n)||i.get("en-US")||{},this.prepared={},this.output="",this.ready=!0,this.title=r,this.type=s,this}process(){let t;try{this.prepared=o.get(this.type)(this.title,Array.isArray(this.data)?this.data:[this.data]),t=!0}catch(e){t=!1}return this.data=null,t}render(){return!1===this.done&&this.ready&&(this.output=JSON.stringify(this.prepared,null,2),this.prepared={},this.done=!0,this.ready=!1),this.output}}t.kg=function({data:t=[],id:e=`kg${n()}`,lang:i="en-US",title:r="",type:s=""}={}){return new d(e,t,i,r,s)},Object.defineProperty(t,"__esModule",{value:!0})}));